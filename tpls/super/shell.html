{{MapSet .Ctx.Attrs "ascripts" (Array "super/shell.js")}}

{{template "main_header" .}}

<div class="s-section">
	<div class="s-section-head">
		<h2>{{I "super.shell"}}<span>{{T .Loc "menu.super.shell"}}</span></h2>
		<div class="ms-auto">
			<a class="btn btn-sm btn-outline-primary" href="../">{{I "super"}} {{T .Loc "menu.super"}}</a>
		</div>
	</div>
	<div class="s-section-body">
		<form id="shell_form" class="label-left" method="POST">
			<div class="row py-1 text-nowrap">
				<label class="col col-form-label">{{TF .Loc "super.shell.command" .OS}}</label>
				<div class="col text-end">
					{{T .Loc "super.shell.timeout"}} {{Select "Name=" "timeout" "List=" .Timeouts "class=" "form-select"}}
				</div>
			</div>
			<div class="row py-3">
				<div class="col">
					<textarea name="command" class="form-control" rows="10" autosize enterfire textclear></textarea>
				</div>
			</div>
			<div class="row py-1">
				<div class="col text-center">
					<button type="submit" class="btn btn-primary">{{I "execute"}} {{T .Loc "button.execute"}}</button>
				</div>
			</div>
		</form>

		<div id="shell_result" class="ui-view lined grey padded font-monospace mt-4" style="display:none;"></div>

		<div id="shell_row" class="hidden ui-view label-bold">
			<div class="row py-3">
				<label class="col-md-2 ui-label"></label>
				<div class="col-md-10 ui-value"><pre></pre></div>
			</div>
		</div>

		<div id="shell_map" data-labels="{{JSON .Labels}}"></div>
	</div>
</div>

{{template "main_footer" .}}